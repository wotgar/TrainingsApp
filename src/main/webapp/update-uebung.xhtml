<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

<h:head>
</h:head>

<f:metadata>
    <f:event type="preRenderView"
             listener="#{uebungBean.loadUebung(param['id'])}" />
</f:metadata>

<ui:composition template="template/template.xhtml">
    <ui:define name="content">
        <h:body>

            <h:form>
                <p:panel header="Ãœbungen">
                    <p:messages id="meldungen"/>
                    <p:growl id="messages" showDetail="true"/>
                    <h:panelGrid columns="2" columnClasses="label, value">
                        <h:outputText value="Bezeichnung: *"/>
                        <p:inputText value="#{uebungBean.bezeichnung}" label="Bezeichnung" required="true" />

                        <h:outputText value="Ablauf: "/>
                        <p:inputTextarea value="#{uebungBean.beschreibung}" label="Ablauf" required="false" />

                        <h:outputText value="Bild: "/>
                        <p:fileUpload fileUploadListener="#{uebungBean.handleFileUpload}" mode="advanced"
                                      update="messages" auto="true" sizeLimit="100000"
                                      allowTypes="/(\.|\/)(gif|jpe?g|png)$/"/>

                        <h:outputText value="Kategorie *: "/>
                        <p:selectOneMenu label="Kategorie" value="#{uebungBean.kategorie}">
                            <f:selectItems value="#{uebungBean.kategorien}"/>
                        </p:selectOneMenu>

                        <h:outputText value="Muskelgruppen: *"/>
                        <p:selectCheckboxMenu label="Muskelgruppen" value="#{uebungBean.selectedMuskelgruppen}"
                                              required="true">
                            <f:selectItems value="#{uebungBean.muskelgruppen}"/>
                        </p:selectCheckboxMenu>

                        <h:outputText value="Schwierigkeitsgrad *: "/>
                        <p:selectOneMenu label="Schwierigkeitsgrad" value="#{uebungBean.schwierigkeitsgrad}">
                            <f:selectItems value="#{uebungBean.grade}"/>
                        </p:selectOneMenu>

                        <h:outputText value="Verletzungsrisiko *: "/>
                        <p:selectOneMenu label="Verletzungsrisiko" value="#{uebungBean.verletzungsrisiko}">
                            <f:selectItems value="#{uebungBean.risiken}"/>
                        </p:selectOneMenu>

                        <p:commandButton value="Update" ajax="false" action="#{uebungBean.updateUebung}"/>
                    </h:panelGrid>
                </p:panel>
            </h:form>

        </h:body>
    </ui:define>
</ui:composition>
</html>
